# Example configuration file for Salish Sea NEMO model nowcast system

# Python interpreter in environment with all dependencies installed
python: /home/dlatorne/anaconda/bin/python

# Filesystem group name to use for ownership of newly created files
file group: sallen

bathymetry: /data/dlatorne/MEOPAR/NEMO-forcing/grid/bathy_meter_SalishSea2.nc

rivers:
  # River name: wateroffice.ec.gc.ca station number
  Fraser: 08MF005

ssh:
  # Destination directory for Neah Bay sea surface height open boundary files
  ssh_dir: /ocean/nsoontie/MEOPAR/sshNeahBay/

weather:
  # Destination directory for downloaded GEM 2.5km operational model GRIB2 files
  GRIB_dir: /ocean/sallen/allen/research/MEOPAR/GRIB/
  # Destination directory for NEMO forcing files generated from GRIB2 files
  ops_dir: /ocean/sallen/allen/research/MEOPAR/Operational/
  # Location of wgrib2 executable
  wgrib2: /ocean/sallen/allen/research/MEOPAR/private-tools/grib2/wgrib2/wgrib2
  # Location of Pramod Thupaki's grid_defn.pl script
  grid_defn.pl: /ocean/sallen/allen/research/MEOPAR/private-tools/PThupaki/grid_defn.pl

logging:
  log_file: /home/dlatorne/public_html/MEOPAR/nowcast/nowcast.log
  backup_count: 7
  wgrib2_log_file: /home/dlatorne/public_html/MEOPAR/nowcast/wgrib2.log
  # Format strings must be quoted to protect % characters
  message_format: '%(asctime)s %(levelname)s [%(name)s] %(message)s'
  datetime_format: '%Y-%m-%d %H:%M:%S'

# Message system
ports:
  req_rep: 5555

msg_types:
  # message types registry
  nowcast_mgr:
    ack: message acknowledged
    undefined msg: ERROR - message type is not defined
  download_weather:
    success 06: 06 weather forecast ready
    failure 06: 06 weather forecast download failed
    success 18: 18 weather forecast ready
    failure 18: 18 weather forecast download failed
  make_runoff_file:
    success: rivers forcing ready
  get_NeahBay_ssh:
    success: Neah Bay ssh ready
    failure: Neah Bay sea surface height file preparation failed
  grib_to_netcdf:
    success: atmospheric forcing ready
    failure: atmospheric forcing files preparation failed
    the end: end of automation
